generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// User model
model User {
  id           Int           @id @default(autoincrement())
  email        String        @unique
  password     String
  name         String
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
  campaign     Campaign?     
  performances Performance[] 
  Attachment   Attachment[]
}

// Campaign model
model Campaign {
  id                          Int      @id @default(autoincrement())
  totalInitialInvestment      Float    @map(name: "total_initial_investment")
  name                        String
  estimatedExecutedInvestment Float    @map(name: "estimated_executed_investment")
  createdAt                   DateTime @default(now())
  updatedAt                   DateTime @updatedAt
  user                        User     @relation(fields: [userId], references: [id])
  userId                      Int      @unique
}

model Performance {
  id               Int      @id @default(autoincrement())
  uniqueFilename   String
  originalFilename String
  fileSize         Int
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  user             User     @relation(fields: [userId], references: [id])
  userId           Int
}

// Attachment model
model Attachment {
  id               Int      @id @default(autoincrement())
  uniqueFilename   String
  originalFilename String
  fileSize         Int
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  user             User     @relation(fields: [userId], references: [id])
  userId           Int
}

// Tabela model
model Tabela {
  id           Int      @id @default(autoincrement())
  influencer   String
  username     String
  city         String
  posts        String
  impressions  String
  interactions String
  clicks       String
  videoViews   String
  cpe          String
  ctr          String
  cpc          String
  cpv          String
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}
